/** MIT License
* 
* Copyright (c) 2010 Ludovic CLUBER 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
*
* https://github.com/LCluber/Aias.js
*/

var Aias=function(e){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function s(e){return e<10?"0"+e:e}function a(e){return null!==e&&"object"==typeof e&&!(null!==(t=e)&&t.constructor===Array);var t}function t(e,t){function r(){this.constructor=e}qr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function c(e){return"function"==typeof e}function i(e){setTimeout(function(){throw e},0)}function l(e){return null!==e&&"object"==typeof e}function f(e){return e.reduce(function(e,t){return e.concat(t instanceof kr?t.errors:t)},[])}function u(){}function h(e){if(e||(e=Sr.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var r,p,d,b,y=require("./_library"),_=require("./_global"),v=require("./_ctx"),g=require("./_classof"),m=require("./_export"),w=require("./_is-object"),q=require("./_a-function"),T=require("./_an-instance"),S=require("./_for-of"),x=require("./_species-constructor"),E=require("./_task").set,k=require("./_microtask")(),O=require("./_new-promise-capability"),j=require("./_perform"),P=require("./_user-agent"),A=require("./_promise-resolve"),L="Promise",D=_.TypeError,I=_.process,C=I&&I.versions,M=C&&C.v8||"",N=_[L],H="process"==g(I),R=function(){},F=p=O.f,G=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[require("./_wks")("species")]=function(e){e(R,R)};return(H||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==M.indexOf("6.6")&&-1===P.indexOf("Chrome/66")}catch(e){}}(),V=function(e){var t;return!(!w(e)||"function"!=typeof(t=e.then))&&t},U=function(l,r){if(!l._n){l._n=!0;var n=l._c;k(function(){for(var a=l._v,c=1==l._s,e=0,t=function(e){var t,r,n,i=c?e.ok:e.fail,o=e.resolve,s=e.reject,u=e.domain;try{i?(c||(2==l._h&&Y(l),l._h=1),!0===i?t=a:(u&&u.enter(),t=i(a),u&&(u.exit(),n=!0)),t===e.promise?s(D("Promise-chain cycle")):(r=V(t))?r.call(t,o,s):o(t)):s(a)}catch(e){u&&!n&&u.exit(),s(e)}};n.length>e;)t(n[e++]);l._c=[],l._n=!1,r&&!l._h&&W(l)})}},W=function(o){E.call(_,function(){var e,t,r,n=o._v,i=J(o);if(i&&(e=j(function(){H?I.emit("unhandledRejection",n,o):(t=_.onunhandledrejection)?t({promise:o,reason:n}):(r=_.console)&&r.error&&r.error("Unhandled promise rejection",n)}),o._h=H||J(o)?2:1),o._a=void 0,i&&e.e)throw e.v})},J=function(e){return 1!==e._h&&0===(e._a||e._c).length},Y=function(t){E.call(_,function(){var e;H?I.emit("rejectionHandled",t):(e=_.onrejectionhandled)&&e({promise:t,reason:t._v})})},X=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),U(t,!0))},z=function e(r){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===r)throw D("Promise can't be resolved itself");(n=V(r))?k(function(){var t={_w:i,_d:!1};try{n.call(r,v(e,t,1),v(X,t,1))}catch(e){X.call(t,e)}}):(i._v=r,i._s=1,U(i,!1))}catch(e){X.call({_w:i,_d:!1},e)}}};G||(N=function(e){T(this,N,L,"_h"),q(e),r.call(this);try{e(v(z,this,1),v(X,this,1))}catch(e){X.call(this,e)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(N.prototype,{then:function(e,t){var r=F(x(this,N));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=H?I.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&U(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),d=function(){var e=new r;this.promise=e,this.resolve=v(z,e,1),this.reject=v(X,e,1)},O.f=F=function(e){return e===N||e===b?new d(e):p(e)}),m(m.G+m.W+m.F*!G,{Promise:N}),require("./_set-to-string-tag")(N,L),require("./_set-species")(L),b=require("./_core")[L],m(m.S+m.F*!G,L,{reject:function(e){var t=F(this);return(0,t.reject)(e),t.promise}}),m(m.S+m.F*(y||!G),L,{resolve:function(e){return A(y&&this===b?N:this,e)}}),m(m.S+m.F*!(G&&require("./_iter-detect")(function(e){N.all(e).catch(R)})),L,{all:function(e){var s=this,t=F(s),u=t.resolve,a=t.reject,r=j(function(){var n=[],i=0,o=1;S(e,!1,function(e){var t=i++,r=!1;n.push(void 0),o++,s.resolve(e).then(function(e){r||(r=!0,n[t]=e,--o||u(n))},a)}),--o||u(n)});return r.e&&a(r.v),t.promise},race:function(e){var t=this,r=F(t),n=r.reject,i=j(function(){S(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}});var $=require("./_classof"),B={};B[require("./_wks")("toStringTag")]="z",B+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+$(this)+"]"},!0);var K=require("./_export"),Q=require("./_array-includes")(!0);K(K.P,"Array",{includes:function(e,t){return Q(this,e,1<arguments.length?t:void 0)}}),require("./_add-to-unscopables")("includes");var Z=require("./_export"),ee=require("./_string-context"),te="includes";Z(Z.P+Z.F*require("./_fails-is-regexp")(te),"String",{includes:function(e,t){return!!~ee(this,e,te).indexOf(e,1<arguments.length?t:void 0)}});var re=require("./_global"),ne=require("./_inherit-if-required"),ie=require("./_object-dp").f,oe=require("./_object-gopn").f,se=require("./_is-regexp"),ue=require("./_flags"),ae=re.RegExp,ce=ae,le=ae.prototype,fe=/a/g,he=/a/g,pe=new ae(fe)!==fe;if(require("./_descriptors")&&(!pe||require("./_fails")(function(){return he[require("./_wks")("match")]=!1,ae(fe)!=fe||ae(he)==he||"/a/i"!=ae(fe,"i")}))){ae=function(e,t){var r=this instanceof ae,n=se(e),i=void 0===t;return!r&&n&&e.constructor===ae&&i?e:ne(pe?new ce(n&&!i?e.source:e,t):ce((n=e instanceof ae)?e.source:e,n&&i?ue.call(e):t),r?this:le,ae)};for(var de=function(t){t in ae||ie(ae,t,{configurable:!0,get:function(){return ce[t]},set:function(e){ce[t]=e}})},be=oe(ce),ye=0;be.length>ye;)de(be[ye++]);(le.constructor=ae).prototype=le,require("./_redefine")(re,"RegExp",ae)}require("./_set-species")("RegExp"),require("./_fix-re-wks")("match",1,function(n,i,e){return[function(e){var t=n(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,t):new RegExp(e)[i](String(t))},e]});var _e=require("./_object-dp").f,ve=Function.prototype,ge=/^\s*function ([^ (]*)/;"name"in ve||require("./_descriptors")&&_e(ve,"name",{configurable:!0,get:function(){try{return(""+this).match(ge)[1]}catch(e){return""}}}),require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")});var me=Date.prototype,we="Invalid Date",qe="toString",Te=me[qe],Se=me.getTime;new Date(NaN)+""!=we&&require("./_redefine")(me,qe,function(){var e=Se.call(this);return e==e?Te.call(this):we}),require("./es6.regexp.flags");var xe=require("./_an-object"),Ee=require("./_flags"),ke=require("./_descriptors"),Oe="toString",je=/./[Oe],Pe=function(e){require("./_redefine")(RegExp.prototype,Oe,e,!0)};require("./_fails")(function(){return"/a/b"!=je.call({source:"a",flags:"b"})})?Pe(function(){var e=xe(this);return"/".concat(e.source,"/","flags"in e?e.flags:!ke&&e instanceof RegExp?Ee.call(e):void 0)}):je.name!=Oe&&Pe(function(){return je.call(this)});var Ae={info:{id:1,name:"info",color:"#28a745"},trace:{id:2,name:"trace",color:"#17a2b8"},warn:{id:3,name:"warn",color:"#ffc107"},error:{id:4,name:"error",color:"#dc3545"},off:{id:99,name:"off",color:null}},Le=function(){function e(e,t){var r,n,i;this.id=e.id,this.name=e.name,this.color=e.color,this.content=t,this.date=(r=new Date,n=[s(r.getMonth()+1),s(r.getDate()),r.getFullYear().toString().substr(-2)],i=[s(r.getHours()),s(r.getMinutes()),s(r.getSeconds())],n.join("/")+" "+i.join(":"))}return e.prototype.display=function(){},e}(),De=function(){function e(e,t){this.messages=[],this.name=e,this.messages=[],this.level=t}var t=e.prototype;return t.setLevel=function(e){return this.level=Ae.hasOwnProperty(e)?Ae[e]:this.level,this.getLevel()},t.getLevel=function(){return this.level.name},t.info=function(e){this.log(Ae.info,e)},t.trace=function(e){this.log(Ae.trace,e)},t.warn=function(e){this.log(Ae.warn,e)},t.error=function(e){this.log(Ae.error,e)},t.log=function(e,t){var r=new Le(e,t);this.messages.push(r),this.level.id<=r.id&&r.display(this.name)},e}(),Ie=function(){function i(){}return i.setLevel=function(e){i.level=Ae.hasOwnProperty(e)?Ae[e]:i.level;for(var t,r=o(i.groups);!(t=r()).done;){t.value.setLevel(i.level.name)}return i.getLevel()},i.getLevel=function(){return i.level.name},i.getGroup=function(e){for(var t,r=o(i.groups);!(t=r()).done;){var n=t.value;if(n.name===e)return n}return null},i.addGroup=function(e){return this.getGroup(e)||this.pushGroup(e)},i.pushGroup=function(e){var t=new De(e,i.level);return i.groups.push(t),t},i}();Ie.level=Ae.error,Ie.groups=[],require("./_fix-re-wks")("replace",2,function(i,o,s){return[function(e,t){var r=i(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,r,t):s.call(String(r),e,t)},s]}),require("./_fix-re-wks")("split",2,function(i,o,s){var p=require("./_is-regexp"),d=s,b=[].push,e="split",y="length",_="lastIndex";if("c"=="abbc"[e](/(b)*/)[1]||4!="test"[e](/(?:)/,-1)[y]||2!="ab"[e](/(?:ab)*/)[y]||4!="."[e](/(.?)(.?)/)[y]||1<"."[e](/()()/)[y]||""[e](/.?/)[y]){var v=void 0===/()??/.exec("")[1];s=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!p(e))return d.call(r,e,t);var n,i,o,s,u,a=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,c+"g");for(v||(n=new RegExp("^"+h.source+"$(?!\\s)",c));(i=h.exec(r))&&!(l<(o=i.index+i[0][y])&&(a.push(r.slice(l,i.index)),!v&&1<i[y]&&i[0].replace(n,function(){for(u=1;u<arguments[y]-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),1<i[y]&&i.index<r[y]&&b.apply(a,i.slice(1)),s=i[0][y],l=o,a[y]>=f));)h[_]===i.index&&h[_]++;return l===r[y]?!s&&h.test("")||a.push(""):a.push(r.slice(l)),a[y]>f?a.slice(0,f):a}}else"0"[e](void 0,0)[y]&&(s=function(e,t){return void 0===e&&0===t?[]:d.call(this,e,t)});return[function(e,t){var r=i(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,r,t):s.call(String(r),e,t)},s]});var Ce=require("./_global"),Me=require("./_has"),Ne=require("./_cof"),He=require("./_inherit-if-required"),Re=require("./_to-primitive"),Fe=require("./_fails"),Ge=require("./_object-gopn").f,Ve=require("./_object-gopd").f,Ue=require("./_object-dp").f,We=require("./_string-trim").trim,Je="Number",Ye=Ce[Je],Xe=Ye,ze=Ye.prototype,$e=Ne(require("./_object-create")(ze))==Je,Be="trim"in String.prototype,Ke=function(e){var t=Re(e,!1);if("string"==typeof t&&2<t.length){var r,n,i,o=(t=Be?t.trim():We(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var s,u=t.slice(2),a=0,c=u.length;a<c;a++)if((s=u.charCodeAt(a))<48||i<s)return NaN;return parseInt(u,n)}}return+t};if(!Ye(" 0o1")||!Ye("0b1")||Ye("+0x1")){Ye=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof Ye&&($e?Fe(function(){ze.valueOf.call(r)}):Ne(r)!=Je)?He(new Xe(Ke(t)),r,Ye):Ke(t)};for(var Qe,Ze=require("./_descriptors")?Ge(Xe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),et=0;Ze.length>et;et++)Me(Xe,Qe=Ze[et])&&!Me(Ye,Qe)&&Ue(Ye,Qe,Ve(Xe,Qe));(Ye.prototype=ze).constructor=Ye,require("./_redefine")(Ce,Je,Ye)}for(var tt=require("./es6.array.iterator"),rt=require("./_object-keys"),nt=require("./_redefine"),it=require("./_global"),ot=require("./_hide"),st=require("./_iterators"),ut=require("./_wks"),at=ut("iterator"),ct=ut("toStringTag"),lt=st.Array,ft={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ht=rt(ft),pt=0;pt<ht.length;pt++){var dt,bt=ht[pt],yt=ft[bt],_t=it[bt],vt=_t&&_t.prototype;if(vt&&(vt[at]||ot(vt,at,lt),vt[ct]||ot(vt,ct,bt),st[bt]=lt,yt))for(dt in tt)vt[dt]||nt(vt,dt,tt[dt],!0)}require("./_wks-define")("asyncIterator");var gt=require("./_global"),mt=require("./_has"),wt=require("./_descriptors"),qt=require("./_export"),Tt=require("./_redefine"),St=require("./_meta").KEY,xt=require("./_fails"),Et=require("./_shared"),kt=require("./_set-to-string-tag"),Ot=require("./_uid"),jt=require("./_wks"),Pt=require("./_wks-ext"),At=require("./_wks-define"),Lt=require("./_enum-keys"),Dt=require("./_is-array"),It=require("./_an-object"),Ct=require("./_is-object"),Mt=require("./_to-iobject"),Nt=require("./_to-primitive"),Ht=require("./_property-desc"),Rt=require("./_object-create"),Ft=require("./_object-gopn-ext"),Gt=require("./_object-gopd"),Vt=require("./_object-dp"),Ut=require("./_object-keys"),Wt=Gt.f,Jt=Vt.f,Yt=Ft.f,Xt=gt.Symbol,zt=gt.JSON,$t=zt&&zt.stringify,Bt="prototype",Kt=jt("_hidden"),Qt=jt("toPrimitive"),Zt={}.propertyIsEnumerable,er=Et("symbol-registry"),tr=Et("symbols"),rr=Et("op-symbols"),nr=Object[Bt],ir="function"==typeof Xt,or=gt.QObject,sr=!or||!or[Bt]||!or[Bt].findChild,ur=wt&&xt(function(){return 7!=Rt(Jt({},"a",{get:function(){return Jt(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=Wt(nr,t);n&&delete nr[t],Jt(e,t,r),n&&e!==nr&&Jt(nr,t,n)}:Jt,ar=function(e){var t=tr[e]=Rt(Xt[Bt]);return t._k=e,t},cr=ir&&"symbol"==typeof Xt.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Xt},lr=function(e,t,r){return e===nr&&lr(rr,t,r),It(e),t=Nt(t,!0),It(r),mt(tr,t)?(r.enumerable?(mt(e,Kt)&&e[Kt][t]&&(e[Kt][t]=!1),r=Rt(r,{enumerable:Ht(0,!1)})):(mt(e,Kt)||Jt(e,Kt,Ht(1,{})),e[Kt][t]=!0),ur(e,t,r)):Jt(e,t,r)},fr=function(e,t){It(e);for(var r,n=Lt(t=Mt(t)),i=0,o=n.length;i<o;)lr(e,r=n[i++],t[r]);return e},hr=function(e){var t=Zt.call(this,e=Nt(e,!0));return!(this===nr&&mt(tr,e)&&!mt(rr,e))&&(!(t||!mt(this,e)||!mt(tr,e)||mt(this,Kt)&&this[Kt][e])||t)},pr=function(e,t){if(e=Mt(e),t=Nt(t,!0),e!==nr||!mt(tr,t)||mt(rr,t)){var r=Wt(e,t);return!r||!mt(tr,t)||mt(e,Kt)&&e[Kt][t]||(r.enumerable=!0),r}},dr=function(e){for(var t,r=Yt(Mt(e)),n=[],i=0;r.length>i;)mt(tr,t=r[i++])||t==Kt||t==St||n.push(t);return n},br=function(e){for(var t,r=e===nr,n=Yt(r?rr:Mt(e)),i=[],o=0;n.length>o;)!mt(tr,t=n[o++])||r&&!mt(nr,t)||i.push(tr[t]);return i};ir||(Tt((Xt=function(e){if(this instanceof Xt)throw TypeError("Symbol is not a constructor!");var r=Ot(0<arguments.length?e:void 0);return wt&&sr&&ur(nr,r,{configurable:!0,set:function e(t){this===nr&&e.call(rr,t),mt(this,Kt)&&mt(this[Kt],r)&&(this[Kt][r]=!1),ur(this,r,Ht(1,t))}}),ar(r)})[Bt],"toString",function(){return this._k}),Gt.f=pr,Vt.f=lr,require("./_object-gopn").f=Ft.f=dr,require("./_object-pie").f=hr,require("./_object-gops").f=br,wt&&!require("./_library")&&Tt(nr,"propertyIsEnumerable",hr,!0),Pt.f=function(e){return ar(jt(e))}),qt(qt.G+qt.W+qt.F*!ir,{Symbol:Xt});for(var yr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),_r=0;yr.length>_r;)jt(yr[_r++]);for(var vr=Ut(jt.store),gr=0;vr.length>gr;)At(vr[gr++]);qt(qt.S+qt.F*!ir,"Symbol",{for:function(e){return mt(er,e+="")?er[e]:er[e]=Xt(e)},keyFor:function(e){if(!cr(e))throw TypeError(e+" is not a symbol!");for(var t in er)if(er[t]===e)return t},useSetter:function(){sr=!0},useSimple:function(){sr=!1}}),qt(qt.S+qt.F*!ir,"Object",{create:function(e,t){return void 0===t?Rt(e):fr(Rt(e),t)},defineProperty:lr,defineProperties:fr,getOwnPropertyDescriptor:pr,getOwnPropertyNames:dr,getOwnPropertySymbols:br}),zt&&qt(qt.S+qt.F*(!ir||xt(function(){var e=Xt();return"[null]"!=$t([e])||"{}"!=$t({a:e})||"{}"!=$t(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(Ct(t)||void 0!==e)&&!cr(e))return Dt(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!cr(t))return t}),n[1]=t,$t.apply(zt,n)}}),Xt[Bt][Qt]||require("./_hide")(Xt[Bt],Qt,Xt[Bt].valueOf),kt(Xt,"Symbol"),kt(Math,"Math",!0),kt(gt.JSON,"JSON",!0);var mr=require("./_export");mr(mr.S+mr.F,"Object",{assign:require("./_object-assign")});var wr=require("./_export");wr(wr.S,"Object",{setPrototypeOf:require("./_set-proto").set});var qr=function(e,t){return(qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},Tr=!1,Sr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e);Tr=e},get useDeprecatedSynchronousErrorHandling(){return Tr}},xr={closed:!0,next:function(){},error:function(e){if(Sr.useDeprecatedSynchronousErrorHandling)throw e;i(e)},complete:function(){}},Er=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}(),kr=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),Or=function(){function u(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var e;return u.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this._parentOrParents,r=this._unsubscribe,n=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof u)e.remove(this);else if(null!==e)for(var i=0;i<e.length;++i){e[i].remove(this)}if(c(r))try{r.call(this)}catch(e){t=e instanceof kr?f(e.errors):[e]}if(Er(n)){i=-1;for(var o=n.length;++i<o;){var s=n[i];if(l(s))try{s.unsubscribe()}catch(e){t=t||[],e instanceof kr?t=t.concat(f(e.errors)):t.push(e)}}}if(t)throw new kr(t)}},u.prototype.add=function(e){var t=e;if(!e)return u.EMPTY;switch(typeof e){case"function":t=new u(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof u)){var r=t;(t=new u)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=t._parentOrParents;if(null===n)t._parentOrParents=this;else if(n instanceof u){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t},u.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},u.EMPTY=((e=new u).closed=!0,e),u}(),jr=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Pr=function(i){function o(e,t,r){var n=i.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=xr;break;case 1:if(!e){n.destination=xr;break}if("object"==typeof e){e instanceof o?(n.syncErrorThrowable=e.syncErrorThrowable,(n.destination=e).add(n)):(n.syncErrorThrowable=!0,n.destination=new Ar(n,e));break}default:n.syncErrorThrowable=!0,n.destination=new Ar(n,e,t,r)}return n}return t(o,i),o.prototype[jr]=function(){return this},o.create=function(e,t,r){var n=new o(e,t,r);return n.syncErrorThrowable=!1,n},o.prototype.next=function(e){this.isStopped||this._next(e)},o.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},o.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},o.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,i.prototype.unsubscribe.call(this))},o.prototype._next=function(e){this.destination.next(e)},o.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},o.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},o.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},o}(Or),Ar=function(u){function e(e,t,r,n){var i,o=u.call(this)||this;o._parentSubscriber=e;var s=o;return c(t)?i=t:t&&(i=t.next,r=t.error,n=t.complete,t!==xr&&(c((s=Object.create(t)).unsubscribe)&&o.add(s.unsubscribe.bind(s)),s.unsubscribe=o.unsubscribe.bind(o))),o._context=s,o._next=i,o._error=r,o._complete=n,o}return t(e,u),e.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Sr.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},e.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=Sr.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):i(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;i(e)}}},e.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};Sr.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,r):this.__tryOrUnsub(r),this.unsubscribe()}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Sr.useDeprecatedSynchronousErrorHandling)throw e;i(e)}},e.prototype.__tryOrSetError=function(t,e,r){if(!Sr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return Sr.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):(i(e),!0)}return!1},e.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},e}(Pr),Lr=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),Dr=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,r){var n=this.operator,i=function(e,t,r){if(e){if(e instanceof Pr)return e;if(e[jr])return e[jr]()}return e||t||r?new Pr(e,t,r):new Pr(xr)}(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||Sr.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Sr.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Sr.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;e=n&&n instanceof Pr?n:null}return!0}(t)&&t.error(e)}},r.prototype.forEach=function(n,e){var i=this;return new(e=h(e))(function(e,t){var r;r=i.subscribe(function(e){try{n(e)}catch(e){t(e),r&&r.unsubscribe()}},t,e)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[Lr]=function(){return this},r.prototype.pipe=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 0===e.length?this:((t=e)?1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)}:u)(this)},r.prototype.toPromise=function(e){var n=this;return new(e=h(e))(function(e,t){var r;n.subscribe(function(e){return r=e},function(e){return t(e)},function(){return e(r)})})},r.create=function(e){return new r(e)},r}(),Ir=require("./_add-to-unscopables"),Cr=require("./_iter-step"),Mr=require("./_iterators"),Nr=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,t){this._t=Nr(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,Cr(1)):Cr(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),Mr.Arguments=Mr.Array,Ir("keys"),Ir("values"),Ir("entries");var Hr=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=Hr(t,r),this._i+=e.length,{value:e,done:!1})});var Rr=require("./_collection-strong"),Fr=require("./_validate-collection");module.exports=require("./_collection")("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(e){var t=Rr.getEntry(Fr(this,"Map"),e);return t&&t.v},set:function(e,t){return Rr.def(Fr(this,"Map"),0===e?0:e,t)}},Rr,!0);var Gr;Gr||(Gr={});var Vr=require("./_to-object"),Ur=require("./_object-keys");require("./_object-sap")("keys",function(){return function(e){return Ur(Vr(e))}});var Wr=window.AudioContext||window.webkitAudioContext||!1,Jr=function(){function e(e,t){this.log=Ie.addGroup("Aias"),this.method=e,this.async=!0,this.noCache=!1,this.headers=t}var t=e.prototype;return t.setHeaders=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.headers[t]=e[t])},t.getHeaders=function(){return this.headers},t.usePromise=function(o,s,e){var u=this;return new Promise(function(r,n){var i=new XMLHttpRequest;switch(o+=u.noCache?"?cache="+(new Date).getTime():"",i.open(u.method,o,u.async),i.responseType="audiobuffer"===s?"arraybuffer":s,u.setRequestHeaders(i),s){case"json":case"arraybuffer":case"audiobuffer":case"blob":i.onload=function(){if(4==i.readyState)if(200==i.status){var e=i.response;if(e)if(u.logInfo(o,i.status,i.statusText),"audiobuffer"===s)if(Wr){var t=new Wr;t.decodeAudioData(e,function(e){t.close(),r(e)},function(e){u.log.error("xhr ("+u.method+":"+o+") failed with decodeAudioData error : "+e.message),t.close(),n({status:e.name,statusText:e.message})})}else u.log.error("xhr ("+u.method+":"+o+") failed with error : Web Audio API is not supported by your browser."),n({status:"Web Audio API not supported by your browser",statusText:"Web Audio API is not supported by your browser"});else r(e);else u.logError(o,i.status,i.statusText),n({status:i.status,statusText:i.statusText})}else u.logError(o,i.status,i.statusText),n({status:i.status,statusText:i.statusText})};break;default:i.onreadystatechange=function(){4==i.readyState&&(200==i.status?(u.logInfo(o,i.status,i.statusText),r(i.responseText)):(u.logError(o,i.status,i.statusText),n({status:i.status,statusText:i.statusText})))}}a(e)&&(e=JSON.stringify(e)),i.send(e||null),u.log.info("xhr ("+u.method+":"+o+")sent")})},t.useObservable=function(i,o,e){var s=this;return new Dr(function(r){var n=new XMLHttpRequest;switch(i+=s.noCache?"?cache="+(new Date).getTime():"",n.open(s.method,i,s.async),n.responseType="audiobuffer"===o?"arraybuffer":o,s.setRequestHeaders(n),o){case"json":case"arraybuffer":case"audiobuffer":case"blob":n.onload=function(){if(4==n.readyState)if(200==n.status){var e=n.response;if(e)if(s.logInfo(i,n.status,n.statusText),"audiobuffer"===o)if(Wr){var t=new Wr;t.decodeAudioData(e,function(e){t.close(),r.next(e),r.complete()},function(e){s.log.error("xhr ("+s.method+":"+i+") failed with decodeAudioData error : "+e.message),t.close(),r.error({status:e.name,statusText:e.message}),r.complete()})}else s.log.error("xhr ("+s.method+":"+i+") failed with error : Web Audio API is not supported by your browser."),r.error({status:"Web Audio API not supported by your browser",statusText:"Web Audio API is not supported by your browser"}),r.complete();else r.next(e),r.complete();else s.logError(i,n.status,n.statusText),r.error({status:n.status,statusText:n.statusText}),r.complete()}else s.logError(i,n.status,n.statusText),r.error({status:n.status,statusText:n.statusText}),r.complete()};break;default:n.onreadystatechange=function(){4==n.readyState&&(200==n.status?(s.logInfo(i,n.status,n.statusText),r.next(n.responseText)):(s.logError(i,n.status,n.statusText),r.error({status:n.status,statusText:n.statusText})),r.complete())}}a(e)&&(e=JSON.stringify(e)),n.send(e||null),s.log.info("xhr ("+s.method+":"+i+")sent")})},t.call=function(e,t,r,n){switch(r){case"observable":return this.useObservable(e,t,n);default:return this.usePromise(e,t,n)}},t.setRequestHeaders=function(e){for(var t in this.headers)this.headers.hasOwnProperty(t)&&e.setRequestHeader(t,this.headers[t])},t.logInfo=function(e,t,r){this.log.info("xhr ("+this.method+":"+e+") done with status "+t+" "+r)},t.logError=function(e,t,r){this.log.error("xhr ("+this.method+":"+e+") failed with status "+t+" "+r)},e}(),Yr=function(){function e(){}return e.setEventType=function(e){this.eventType=this.isOfTypeEventType(e)?e:"promise"},e.isOfTypeEventType=function(e){return["promise","observable"].includes(e)},e.setLogLevel=function(e){return this.log.setLevel(e)},e.getLogLevel=function(){return this.log.getLevel()},e.setMockup=function(e){var t,r;return this.mockup.data=null!=(t=e.data)?t:this.mockup.data,this.mockup.delay=null!=(r=e.delay)?r:this.mockup.delay,this.mockup},e.getMockupData=function(){var r=this;switch(this.eventType){case"observable":return new Dr(function(e){setTimeout(function(){r.mockup.data?(e.next(r.mockup.data),e.complete()):e.error(null)},r.mockup.delay)});default:return this.promiseTimeout().then(function(){return new Promise(function(e,t){r.mockup.data?e(r.mockup.data):t(null)})})}},e.promiseTimeout=function(){var t=this;return new Promise(function(e){return setTimeout(e,t.mockup.delay)})},e.GET=function(e,t){return this.mockup.data?this.getMockupData():this.get.call(e,t,this.eventType)},e.HEAD=function(e,t){return this.mockup.data?this.getMockupData():this.head.call(e,t,this.eventType)},e.POST=function(e,t,r){return this.mockup.data?this.getMockupData():this.post.call(e,t,this.eventType,r)},e.PUT=function(e,t,r){return this.mockup.data?this.getMockupData():this.put.call(e,t,this.eventType,r)},e.DELETE=function(e,t){return this.mockup.data?this.getMockupData():this.delete.call(e,t,this.eventType)},e.CONNECT=function(e,t){return this.mockup.data?this.getMockupData():this.connect.call(e,t,this.eventType)},e.OPTIONS=function(e,t){return this.mockup.data?this.getMockupData():this.options.call(e,t,this.eventType)},e.TRACE=function(e,t){return this.mockup.data?this.getMockupData():this.trace.call(e,t,this.eventType)},e.PATCH=function(e,t,r){return this.mockup.data?this.getMockupData():this.patch.call(e,t,this.eventType,r)},e}();return Yr.log=Ie.addGroup("Aias"),Yr.eventType="promise",Yr.mockup={data:null,delay:200},Yr.get=new Jr("GET",{"Content-Type":"application/x-www-form-urlencoded"}),Yr.head=new Jr("HEAD",{"Content-Type":"application/x-www-form-urlencoded"}),Yr.post=new Jr("POST",{"Content-Type":"application/json"}),Yr.put=new Jr("PUT",{"Content-Type":"application/json"}),Yr.delete=new Jr("DELETE",{"Content-Type":"application/x-www-form-urlencoded"}),Yr.connect=new Jr("CONNECT",{"Content-Type":"application/x-www-form-urlencoded"}),Yr.options=new Jr("OPTIONS",{"Content-Type":"application/x-www-form-urlencoded"}),Yr.trace=new Jr("TRACE",{"Content-Type":"application/x-www-form-urlencoded"}),Yr.patch=new Jr("PATCH",{"Content-Type":"application/json"}),e.HTTP=Yr,e}({});